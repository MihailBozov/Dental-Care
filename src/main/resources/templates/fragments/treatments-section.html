<section class="treatmentSection"
         xmlns:th="http://www.thymeleaf.org"
         xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <h2 th:if="${currentPage == 'homePage'}">Some of our <span>Treatments</span></h2>
    <h2 th:if="${currentPage != 'homePage'}">Our <span>Treatments</span></h2>
    <div class="subtitle">From routine cleanings and preventive care to advanced restorative and cosmetic
        procedures,
        our dedicated team is committed to providing exceptional care tailored to your individual needs.
    </div>

    <div class="treatment_container">


        <a sec:authorize="hasAnyRole('ADMIN', 'MANAGER', 'DENTIST', 'DENTAL_ASSISTANT')"
           class="treatment_unit new_treatment d-flex flex-column justify-content-center align-items-center"
           data-toggle="modal"
           data-target="#newTreatmentModal"
           href="/treatments/newTreatment">

            <svg class="treatment_icon new_icon" id="Layer_2" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 64.42 63.848">
                <g id="Layer_1-2" data-name="Layer 1-2">
                    <g id="_183_Twitter_Add_Contact" data-name=" 183 Twitter Add Contact">
                        <g>
                            <path d="m32.26,44.949c-.71,0-1.31-.6-1.31-1.3v-23.7c0-.7.61-1.3,1.31-1.3s1.31.6,1.31,1.3v23.8c0,.6-.61,1.2-1.31,1.2Z"
                                  stroke-width="0"/>
                            <path d="m44.28,33.049h-24.04c-.71,0-1.31-.6-1.31-1.3s.61-1.3,1.31-1.3h24.04c.71,0,1.31.6,1.31,1.3-.1.8-.61,1.3-1.31,1.3Z"
                                  stroke-width="0"/>
                            <path d="m32.26,58.149c-6.77,0-13.53-2.6-18.78-7.7-10.31-10.2-10.31-26.9,0-37.1,10.3-10.2,27.17-10.2,37.47,0,10.3,10.2,10.3,26.9,0,37.1h0c-5.15,5.2-11.92,7.7-18.68,7.7h-.01Zm0-49.9c-6.16,0-12.32,2.3-16.97,6.9-9.39,9.3-9.39,24.3,0,33.6,9.39,9.3,24.54,9.3,33.93,0s9.39-24.3,0-33.6c-4.65-4.6-10.81-6.9-16.97-6.9h.01Z"
                                  stroke-width="0"/>
                        </g>
                    </g>
                </g>
            </svg>
            <h2 class="treatment_title">New Treatment</h2>
        </a>


        <th:block th:include="~{fragments/popups/add-treatment}"></th:block>

        <div class="treatment_unit" th:each="treatment : ${allTreatments}">
            <a href="#" class="unit_link"></a>
            <img class="treatment_icon" th:src="${treatment.getImage().getUrl()}" alt="">

            <form id="deleteForm" sec:authorize="hasAnyRole('ADMIN', 'MANAGER', 'DENTIST', 'DENTAL_ASSISTANT')"
                  th:method="post"
                  th:action="@{/treatments/{id}(id=${treatment.getId()})}">
                <!-- Other form fields can go here if needed -->
                <button type="button" onclick="getForm(this)"  class="delete_icon">
                    <svg xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 -960 960 960" width="48px" fill="#000000">
                        <path d="M366.35-314.77 480.5-430.54l115.15 115.77 34.54-35.15-114.15-115.77 114.15-116.16L595.65-617 480.5-501.23 366.35-617l-35.54 35.15 115.15 116.16-115.15 115.77 35.54 35.15ZM223.08-143.08V-741h-40.31v-43.61h168.92v-27.7h256.93v27.47h168.92V-741h-40.36v597.92h-514.1Zm43.84-43.84h426.46V-741H266.92v554.08Zm0-554.08v554.08V-741Z"/>
                    </svg>
                </button>
            </form>
            <h2 class="treatment_title" th:text="${treatment.getName()}"></h2>
            <div class="treatment_description">
                <p th:text="${treatment.getDescription()}"></p>
            </div>
        </div>

        <th:block th:include="~{fragments/popups/confirmDelete}"></th:block>
        <th:block th:include="~{fragments/popups/success}"></th:block>
    </div>

    <a href="/treatments" class="all_units" th:if="${currentPage == 'homePage'}">All Treatments â†’</a>

</section>